---
title: 那些我们"习以为常"的编程基础
date: 2017-08-14 18:09:18
tags:
---

说起这个话题，缘由是突然有朋友问了个这样的问题：

```
int a=0;
for(int i=0;i<5;i++){
    switch(i){
        case 0:
        case 2: a+=2;
        case 1:
        case 3: a+=3;
        default: a+=5;
    }
}
// i=0,a=?
// i=1,a=?
```

看到这个消息的时候，我整个人一下子懵了，这么基础的问题！！！难道有什么玄机？？？

但是怎么看都是switch外面套个for啊。。。

好吧，我马上就回复了

```
// i=0,a=10
// i=1,a=8  // 嗯，回复的时候光顾着switch了，忘了还有个for，应该是a=18
```

然后是我们接下来的对话，主要矛盾在switch上

>友：为啥等于10？

>我：没有break，case一直向下走。

>友：但是条件不满足啊

>我：不判断条件了，条件只判断一次。所以要加break

>友：条件只判断一次？这个是语法要求？

>我：是的

关于switch的探讨到此结束，但朋友问的最后这个问题却引起了我更深的思考。

switch语句的语法为什么是这样呢？正常来分析的话，switch不应该是提供和if(else)似的分支功能吗？为什么非要每个case加个break才能获得我们期望的分支能力？我们习以为常的编程语法到底为什么设计成这个样子？

这些年也写了不少代码，这些基础语法本身就是一切编程的基础，突然觉得挺需要问个为什么了

